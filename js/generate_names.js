
var NameGenerator = (function() {
	var me = {};

	// Proper Kerbal names.
	var properNames = [
		"Adam",
		"Al",
		"Alan",
		"Archibald",
		"Buzz",
		"Carson",
		"Chad",
		"Charlie",
		"Chris",
		"Chuck",
		"Dean",
		"Ed",
		"Edan",
		"Edlu",
		"Frank",
		"Franklin",
		"Gus",
		"Hans",
		"Jack",
		"James",
		"Jim",
		"Kirk",
		"Kurt",
		"Lars",
		"Luke",
		"Mac",
		"Matt",
		"Phil",
		"Randall",
		"Scott",
		"Sean",
		"Steve",
		"Tom",
		"Will"
	];

	// Prefixes for random Kerbal names.
	var prefixes = [
		"Ad",
		"Al",
		"Ald",
		"An",
		"Bar",
		"Bart",
		"Bil",
		"Billy-Bob",
		"Bob",
		"Bur",
		"Cal",
		"Cam",
		"Chad",
		"Cor",
		"Dan",
		"Der",
		"Des",
		"Dil",
		"Do",
		"Don",
		"Dood",
		"Dud",
		"Dun",
		"Ed",
		"El",
		"En",
		"Er",
		"Fer",
		"Fred",
		"Gene",
		"Geof",
		"Ger",
		"Gil",
		"Greg",
		"Gus",
		"Had",
		"Hal",
		"Han",
		"Har",
		"Hen",
		"Her",
		"Hud",
		"Jed",
		"Jen",
		"Jer",
		"Joe",
		"John",
		"Jon",
		"Jor",
		"Kel",
		"Ken",
		"Ker",
		"Kir",
		"Lan",
		"Lem",
		"Len",
		"Lo",
		"Lod",
		"Lu",
		"Lud",
		"Mac",
		"Mal",
		"Mat",
		"Mel",
		"Mer",
		"Mil",
		"Mit",
		"Mun",
		"Ned",
		"Neil",
		"Nel",
		"New",
		"Ob",
		"Or",
		"Pat",
		"Phil",
		"Ray",
		"Rib",
		"Rich",
		"Ro",
		"Rod",
		"Ron",
		"Sam",
		"Sean",
		"See",
		"Shel",
		"Shep",
		"Sher",
		"Sid",
		"Sig",
		"Son",
		"Thom",
		"Thomp",
		"Tom",
		"Wehr",
		"Wil"
	];

	// Suffixes for random Kerbal names.
	var suffixes = [
		"ald",
		"bal",
		"bald",
		"bart",
		"bas",
		"berry",
		"bert",
		"bin",
		"ble",
		"bles",
		"bo",
		"bree",
		"brett",
		"bro",
		"bur",
		"burry",
		"bus",
		"by",
		"cal",
		"can",
		"cas",
		"cott",
		"dan",
		"das",
		"den",
		"din",
		"do",
		"don",
		"dorf",
		"dos",
		"dous",
		"dred",
		"drin",
		"dun",
		"ely",
		"emone",
		"emy",
		"eny",
		"fal",
		"fel",
		"fen",
		"field",
		"ford",
		"fred",
		"frey",
		"frey",
		"frid",
		"frod",
		"fry",
		"furt",
		"gan",
		"gard",
		"gas",
		"gee",
		"gel",
		"ger",
		"gun",
		"hat",
		"ing",
		"ke",
		"kin",
		"lan",
		"las",
		"ler",
		"ley",
		"lie",
		"lin",
		"lin",
		"lo",
		"lock",
		"long",
		"lorf",
		"ly",
		"mal",
		"man",
		"min",
		"ming",
		"mon",
		"more",
		"mund",
		"my",
		"nand",
		"nard",
		"ner",
		"ney",
		"nie",
		"ny",
		"oly",
		"ory",
		"rey",
		"rick",
		"rie",
		"righ",
		"rim",
		"rod",
		"ry",
		"sby",
		"sel",
		"sen",
		"sey",
		"ski",
		"son",
		"sted",
		"ster",
		"sy",
		"ton",
		"top",
		"trey",
		"van",
		"vey",
		"vin",
		"vis",
		"well",
		"wig",
		"win",
		"wise",
		"zer",
		"zon",
		"zor"
	];

	// Get a random element from the array.
	Array.prototype.randomElement = function () {
		return this[Math.floor(Math.random() * this.length)]
	}

	// Generate a random Kerbal name.
	me.generateName = function() {
		var rnd = Math.random();
		var name = "";

		// If generated number is > 1/20 ...
		if (rnd > 0.05) {
			// ... Generate a name.

			// Generate a name, and reject any bad ones.
			var validName = false;
			do {
				// Choose a prefix and suffix.
				name = prefixes.randomElement().concat(suffixes.randomElement());

				// If the name contains the following ...
				if (!name.match("Kerbal|Kerman|eee|rrr|Dildo")) {
					// ... The name is rejected.
					validName = true;
				}
			} while (!validName);

		} else {
			// ... Else choose a proper name.

			name = properNames.randomElement();
		}

		return name;
	};

	return me;
}());
